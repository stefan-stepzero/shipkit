{
  "permissions": {
    "allow": [
      "Read",
      "Write(src/**)",
      "Write(app/**)",
      "Write(components/**)",
      "Write(lib/**)",
      "Write(utils/**)",
      "Write(tests/**)",
      "Write(__tests__/**)",
      "Write(*.ts)",
      "Write(*.tsx)",
      "Write(*.js)",
      "Write(*.jsx)",
      "Write(*.py)",
      "Write(*.json)",
      "Write(*.md)",
      "Write(*.yaml)",
      "Write(*.yml)",
      "Write(*.toml)",
      "Write(*.html)",
      "Write(*.css)",
      "Write(*.scss)",
      "Write(*.sass)",
      "Write(*.sh)",
      "Write(*.sql)",
      "Write(*.xml)",
      "Write(*.txt)",
      "Write(package.json)",
      "Write(pyproject.toml)",
      "Write(requirements.txt)",

      "Bash(git:*)",
      "Bash(python:*)",
      "Bash(pip:*)",
      "Bash(poetry:*)",
      "Bash(pytest:*)",
      "Bash(black:*)",
      "Bash(ruff:*)",
      "Bash(mypy:*)",
      "Bash(uvicorn:*)",
      "Bash(node:*)",
      "Bash(npm:*)",
      "Bash(npx:*)",
      "Bash(pnpm:*)",
      "Bash(yarn:*)",
      "Bash(tsc:*)",
      "Bash(eslint:*)",
      "Bash(prettier:*)",
      "Bash(vercel:*)",
      "Bash(docker:*)",
      "Bash(docker-compose:*)",
      "Bash(ls:*)",
      "Bash(cat:*)",
      "Bash(grep:*)",
      "Bash(find:*)",
      "Bash(wc:*)",
      "Bash(chmod:*)",
      "Bash(pwd:*)",
      "Bash(cd:*)",
      "Bash(echo:*)",
      "Bash(mkdir:*)",
      "Bash(touch:*)",
      "Bash(mv:*)",
      "Bash(cp:*)",
      "Bash(rm:*)",
      "Bash(curl:*)",
      "Bash(wget:*)",
      "Bash(sed:*)",
      "Bash(awk:*)",
      "Bash(sort:*)",
      "Bash(uniq:*)",
      "Bash(diff:*)",
      "Bash(tree:*)",

      "WebFetch(domain:github.com)",
      "WebFetch(domain:raw.githubusercontent.com)",
      "WebFetch(domain:docs.anthropic.com)",
      "WebFetch(domain:nextjs.org)",
      "WebFetch(domain:python.org)",
      "WebFetch(domain:fastapi.tiangolo.com)",
      "WebFetch(domain:pypi.org)",
      "WebFetch(domain:npmjs.com)",
      "WebFetch(domain:stackoverflow.com)",
      "WebFetch(domain:developer.mozilla.org)"
    ],

    "deny": [
      "Read(.env*)",
      "Read(**/.env*)",
      "Read(secrets/**)",
      "Read(*.pem)",
      "Read(*.key)",
      "Read(**/credentials/**)",
      "Write(.env*)",
      "Write(**/.env*)",
      "Write(production.config.*)",
      "Write(*.pem)",
      "Write(*.key)",

      "Write(.claude/skills/**)",
      "Write(.claude/agents/**)",
      "Write(.claude/hooks/**)",
      "Write(.claude/settings.json)",

      "Write(.shipkit/skills/*/outputs/**)",
      "Write(.shipkit/skills/*/templates/**)",
      "Write(.shipkit/skills/*/scripts/**)",
      "Write(.shipkit/scripts/bash/common.sh)",

      "Bash(sudo:*)",
      "Bash(su:*)",
      "Bash(ssh:*)"
    ]
  },

  "defaultMode": "acceptEdits",

  "hooks": {
    "SessionStart": [
      {
        "matcher": "startup|resume|clear|compact",
        "hooks": [
          {
            "type": "command",
            "command": "bash .claude/hooks/session-start.sh"
          }
        ]
      }
    ],
    "SessionEnd": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "bash .claude/hooks/session-end.sh"
          }
        ]
      }
    ],
    "Stop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "bash .claude/hooks/suggest-next-skill.sh"
          }
        ]
      }
    ]
  },

  "skills": {
    "description": "Skill configuration and defaults",
    "autoLoadConstitutions": true,
    "constitutionPaths": [
      ".shipkit/skills/prod-constitution-builder/outputs/product-constitution.md",
      ".shipkit/skills/dev-constitution-builder/outputs/technical-constitution.md"
    ]
  },

  "workspace": {
    "description": "Workspace paths and conventions",
    "skillsPath": ".shipkit/skills",
    "scriptsPath": ".shipkit/scripts",
    "customScriptsPath": ".shipkit/scripts/custom"
  },

  "_notes": {
    "filePermissions": "Framework files protected: .claude/* (installed definitions) and .shipkit/skills/*/outputs|templates|scripts (workflow artifacts). Users have full freedom elsewhere.",
    "sessionHooks": "SessionStart loads shipkit-master and auto-injects previous session state. SessionEnd saves state on /clear only. Stop hook suggests next skills.",
    "constitutions": "Auto-loaded into prod-* and dev-* skills for consistency.",
    "customization": "Users can override by editing this file or creating .shipkit/settings.local.json",
    "permissiveApproach": "Only framework-critical files are protected. Users can rm, curl, wget, and write all common file types."
  }
}
